"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[308],{9968:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>t});var s=n(7624),i=n(2172);const r={sidebar_position:2},o="Tutorial de Instalacion Docker + GitLab + SSL",c={id:"Guia de instalacion/create-a-document",title:"Tutorial de Instalacion Docker + GitLab + SSL",description:"Manual de instalacion Docker + Gitlab + SSL",source:"@site/docs/Guia de instalacion/create-a-document.md",sourceDirName:"Guia de instalacion",slug:"/Guia de instalacion/create-a-document",permalink:"/caso1y2/docs/Guia de instalacion/create-a-document",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Guia de instalacion/create-a-document.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Tutorial para la instalcion de script",permalink:"/caso1y2/docs/Guia de instalacion/create-a-page"},next:{title:"Tutorial de Instalacion - Linux | Valet",permalink:"/caso1y2/docs/Guia de instalacion/create-a-blog-post"}},l={},t=[{value:"Descripcion",id:"descripcion",level:2},{value:"Requisitos previos",id:"requisitos-previos",level:3},{value:"Generate a new site",id:"generate-a-new-site",level:2},{value:"Pasos de la instalcion",id:"pasos-de-la-instalcion",level:2},{value:"Recomendacion post instalacion",id:"recomendacion-post-instalacion",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"tutorial-de-instalacion-docker--gitlab--ssl",children:"Tutorial de Instalacion Docker + GitLab + SSL"}),"\n",(0,s.jsx)(a.p,{children:"Manual de instalacion Docker + Gitlab + SSL"}),"\n",(0,s.jsx)(a.h2,{id:"descripcion",children:"Descripcion"}),"\n",(0,s.jsx)(a.p,{children:"Hemos elaborado un script para uso en instancias Linux, este es un archivo .sh que actualiza el sistema, instala las herramientas, sus dependencias, configura un certificado SSL renovable cada 90 d\xedas que debe ser confirmado en el proceso con su dominio y realiza todas las configuraciones previas, dejando el aplicativo listo para probar en menos de 20 minutos, su ejecuci\xf3n es muy sencilla."}),"\n",(0,s.jsx)(a.h3,{id:"requisitos-previos",children:"Requisitos previos"}),"\n",(0,s.jsx)(a.p,{children:"\u2022 Tener acceso a su servidor, VPS, m\xe1quina virtual o local v\xeda SSH. En las instalaciones que realizamos para AWS o Google Cloud, hacemos entrega del usuario, la IP del servidor y la clave SSH que puede ser un archivo .ppk o .pem."}),"\n",(0,s.jsx)(a.p,{children:"\u2022 Tener instalada una versi\xf3n de SSH en su m\xe1quina para conectarse de manera remota, puede utilizar Putty, FileZilla o una consola terminal."}),"\n",(0,s.jsx)(a.p,{children:"\u2022 Es importante configurar su dominio apuntando a la IP de su instancia para que durante la ejecuci\xf3n del script se valide el certificado SSL y al finalizar la ejecuci\xf3n no tenga errores y todo est\xe9 listo para realizar pruebas. Edite los registros A y CNAME donde A debe contener su IP y CNAME el valor * (asterisco) para que se tomen los subdominios registrados por la herramienta."}),"\n",(0,s.jsx)(a.h2,{id:"generate-a-new-site",children:"Generate a new site"}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Docusaurus logo",src:n(4960).c+"",width:"753",height:"417"})}),"\n",(0,s.jsx)(a.p,{children:"\u2022 Durante la ejecuci\xf3n del script deber\xe1 almacenar en su dominio dos registros TXT con unos valores que se mostrar\xe1n en pantalla, estos registros son validados en directo y no pueden tardar m\xe1s de 2 minutos en validarse en su dominio."}),"\n",(0,s.jsx)(a.p,{children:"\u2022 En caso de contar con servicios instalados en su instancia como MySQL, Apache o Nginx, debe detenerlos, ya que ocupan los puertos que pasar\xe1n a usarse con el aplicativo y los contenedores de Docker."}),"\n",(0,s.jsx)(a.h2,{id:"pasos-de-la-instalcion",children:"Pasos de la instalcion"}),"\n",(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Acceder a su instacia via SSH"}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Loguarse como suoer usuario:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"sudo su\n"})}),"\n",(0,s.jsxs)(a.ol,{start:"3",children:["\n",(0,s.jsx)(a.li,{children:"Ubicarse en la carpeta del usuario, por ejemplo:"}),"\n"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"cd /home/ubuntu/\n"})}),"\n",(0,s.jsxs)(a.ol,{start:"4",children:["\n",(0,s.jsx)(a.li,{children:"Crear el archivo install ejecute:"}),"\n"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"touch install.sh\n"})}),"\n",(0,s.jsxs)(a.ol,{start:"5",children:["\n",(0,s.jsx)(a.li,{children:"Editar el archivo con su editor preferido ejecute:"}),"\n"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"nano install.sh\n"})}),"\n",(0,s.jsxs)(a.ol,{start:"6",children:["\n",(0,s.jsxs)(a.li,{children:["En el archivo, debe agregar el contenido del siguiente enlace: ",(0,s.jsx)(a.a,{href:"https://gitlab.com/snippets/1852652",children:"https://gitlab.com/snippets/1852652"}),". Observar\xe1 una p\xe1gina como la siguiente, donde debe copiar el contenido del script y pegarlo en su archivo ",(0,s.jsx)(a.code,{children:"install.sh"})," Es importante que mantenga la estructura del mismo."]}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Docusaurus logo",src:n(2276).c+"",width:"753",height:"452"})}),"\n",(0,s.jsxs)(a.ol,{start:"7",children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:'Para salir del editor y guardar, puede presionar "Ctrl + X". Seguidamente, se le consultar\xe1 si desea guardar los cambios; confirme con "Y" y luego "enter".'}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Debe darle permisos de ejecuci\xf3n al archivo ejecute:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"chmod +x install.sh\n"})}),"\n",(0,s.jsxs)(a.ol,{start:"9",children:["\n",(0,s.jsx)(a.li,{children:"El comando a utilizar requiere de dos par\xe1metros principalmente:"}),"\n"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"./install.sh [repositorio] [dominio]\n"})}),"\n",(0,s.jsx)(a.p,{children:"\u2022 por ejemplo:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"./install.sh https://gitlab.com/rash07/facturadorpro2 elfacturador.com\n"})}),"\n",(0,s.jsxs)(a.ol,{start:"10",children:["\n",(0,s.jsx)(a.li,{children:"Una vez ejecutado el comando, se iniciar\xe1 un proceso en el que deber\xe1 responder preguntas. Este proceso le mostrar\xe1 en pantalla los valores que debe a\xf1adir en los 2 registros tipo TXT de su dominio con los siguientes nombres:"}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["\u2022",(0,s.jsx)(a.code,{children:"_acme-challenge.example.com"})]}),"\n",(0,s.jsxs)(a.p,{children:["\u2022",(0,s.jsx)(a.code,{children:"_acme-challenge"})," (en casos como godday y puntope)"]}),"\n",(0,s.jsx)(a.p,{children:'En la siguiente imagen se muestra el valor como v703JW.... Deber\xe1 copiarlo y a\xf1adirlo al primer registro TXT. Luego, pulse "Enter", y se le mostrar\xe1 en pantalla un segundo valor para el segundo TXT.'}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Docusaurus logo",src:n(656).c+"",width:"750",height:"197"})}),"\n",(0,s.jsxs)(a.ol,{start:"11",children:["\n",(0,s.jsx)(a.li,{children:"Una vez editados los registros en su dominio, deber\xe1 aceptar para continuar y permitir que el proceso verifique si ha sido exitoso. En caso de \xe9xito, obtendr\xe1 una pantalla similar a la siguiente:"}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Docusaurus logo",src:n(9736).c+"",width:"754",height:"357"})}),"\n",(0,s.jsxs)(a.ol,{start:"12",children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"El proceso de actualizaci\xf3n del sistema continuar\xe1, solicit\xe1ndole el usuario y contrase\xf1a de GitLab para clonar/descargar el proyecto en su instancia. Una vez culminado, tendr\xe1 acceso a trav\xe9s de su dominio con las siguientes credenciales:"}),"\n",(0,s.jsxs)(a.p,{children:["\u2022 Correo ",(0,s.jsx)(a.a,{href:"mailto:admin@gmail.com",children:"admin@gmail.com"})]}),"\n",(0,s.jsx)(a.p,{children:"\u2022 Contrase\xf1a: 123456"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"Una vez finalizado, puede proseguir con el manual de pruebas u otra documentaci\xf3n relevante para cada proyecto. Las URL respectivas son:"}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.strong,{children:"PRO1"}),": ",(0,s.jsx)(a.a,{href:"https://gitlab.com/rash07/facturadorpro1",children:"https://gitlab.com/rash07/facturadorpro1"})," ",(0,s.jsx)(a.strong,{children:"PRO2"}),": ",(0,s.jsx)(a.a,{href:"https://gitlab.com/rash07/facturadorpro2",children:"https://gitlab.com/rash07/facturadorpro2"})]}),"\n",(0,s.jsx)(a.h2,{id:"recomendacion-post-instalacion",children:"Recomendacion post instalacion"}),"\n",(0,s.jsx)(a.p,{children:"Luego de instalar el facturador puede cambiar algunos par\xe1metros en el archivo .env como:"}),"\n",(0,s.jsx)(a.p,{children:"\u2022 La direcci\xf3n de env\xedo de correos que utiliza el facturador para enviar los archivos pdf, xml y cdr a sus clientes"}),"\n",(0,s.jsx)(a.p,{children:"\u2022 Cambiar algunas configuraciones de plantillas de los pdf"}),"\n",(0,s.jsxs)(a.p,{children:["Recuerde que siempre que se edita el archivo .env debe utilizar el comando \u201cphp artisan config",":cache","\u201d dentro del contenedor de fpm1, para m\xe1s detalles puede observar el manual de actualizaci\xf3n Aqu\xed"]}),"\n",(0,s.jsx)(a.p,{children:"La ruta donde ejecute el script ser\xe1 donde se clone el repositorio, debe verificar que los usuarios del servidor tengan permisos a dicha ruta si desea acceder desde ftp o scp."})]})}function u(e={}){const{wrapper:a}={...(0,i.M)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},4960:(e,a,n)=>{n.d(a,{c:()=>s});const s=n.p+"assets/images/img4-bb84b8f6a4f87f85d323f22e83d84f38.png"},2276:(e,a,n)=>{n.d(a,{c:()=>s});const s=n.p+"assets/images/img5-4ea9cb5c17c581e6f5c6124fe00d950e.png"},656:(e,a,n)=>{n.d(a,{c:()=>s});const s=n.p+"assets/images/img6-496118620610f6addc05f374ce602a42.png"},9736:(e,a,n)=>{n.d(a,{c:()=>s});const s=n.p+"assets/images/img7-5e47d9c461540c46e5056c1ff830decf.png"},2172:(e,a,n)=>{n.d(a,{I:()=>c,M:()=>o});var s=n(1504);const i={},r=s.createContext(i);function o(e){const a=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:a},e.children)}}}]);